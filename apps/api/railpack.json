{
  "$schema": "https://schema.railpack.com",
  "steps": {
    "install": {
      "commands": [
        "ROOT=$(cd . && while [ ! -f package-lock.json ] && [ \"$PWD\" != \"/\" ]; do cd ..; done && pwd) && test -f \"$ROOT/package-lock.json\" && cd \"$ROOT\" && npm ci"
      ]
    },
    "build": {
      "inputs": [{ "step": "install" }],
      "commands": [
        "ROOT=$(cd . && while [ ! -f package-lock.json ] && [ \"$PWD\" != \"/\" ]; do cd ..; done && pwd)",
        "cd \"$ROOT\" && npx nx build api --configuration=production"
      ]
    }
  },
  "deploy": {
    "startCommand": "node dist/main.js"
  }
}
